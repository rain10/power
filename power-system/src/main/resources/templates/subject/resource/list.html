@layout("/common/_container.html"){
		<div id="" style="margin-top: 0.5%;">
	      <div>
	      	  <#button id="" onclick="opendialog({title:'菜单-新增',width:'50%',height:'60%',url:'/sys/resource/add',onClose:refresh})" name="新增"  type="add"/>
	      	  <#button id="" onclick="opendialog({title:'菜单-新增',width:'50%',height:'60%',url:'/sys/resource/edit',checkSelect:true,gridId:'resourceTable',onClose:refresh,})" name="编辑"  type="edit"/>
	      	  <#button id="" onclick="refresh()" name="刷新"  type="refresh"/>
	      </div>
	    </div>
	      <div style="opacity: 1;width:100%;min-height:780px;margin-top: 0.5%;">
	        <table id="resourceTable" style="opacity: 1;width:100%;height:780px;margin-top: 2%" class="easyui-treegrid" data-options="align:'center',rownumbers:true,border:false,url:'/sys/resource/loadData.do',idField:'id',treeField:'name',fit:true,fitColumns:true,toolbar:'#resourceToolbar'">
				<thead>
					<tr>
						<th data-options="field:'name',width:100,align:'center'">资源名称</th>
						<th data-options="field:'type',width:100,align:'center'">资源类型</th>
						<th data-options="field:'url',width:100,align:'center'">资源地址</th>
						<th data-options="field:'sort',width:100,align:'center'">资源排序</th>
						<th data-options="field:'icon',width:100,align:'center'">资源图标</th>
						<th data-options="field:'enabled',formatter:enabledFormatter,width:100,align:'center'">资源状态</th>
					</tr>
				</thead>
			</table>
	</div>
<!-- </div> -->
<script type="text/javascript">
		function enabledFormatter(value, row, index) {
			switch (value) {
			case 1:
				return "<span style='color: green'>可用</span>";
			case '1':
				return "<span style='color: green'>可用</span>";
			case 0:
				return "<span style='color: red'>不可用</span>";
			case '0':
				return "<span style='color: red'>不可用</span>";
			}
		};
		
		function refresh() {
			$('#resourceTable').treegrid('reload')
		}
   </script>
@}
